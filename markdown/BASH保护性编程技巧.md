## 保护性编程技巧

#### 不可改变的全局变量
- 尽量少用全局变量
- 大写 全局变量
- 只读声明
- 用全局变量来代替隐晦的$0, $1
    > readonly PROGNAME=$(basename $0)
    > readonly PROGDIR=$(readlink -m $(dirname $0))
    > readonly ARGS="$@"

#### main()
- 有助于保持所有变量的局部性
- 直观的函数式编程
- 代码中唯一的全局命令是 main

#### 一切都是局部的
- 所有变量都应为局部的
- 自注释的参数
- 通常作为循环用的变量i，把它声明为局部变量很重要
- 局部变量不作用于全局域

#### 一切皆函数
- 唯一全局运行的代码是：
    - 不可变的全局变量声明
    - main()函数

#### 调试函数
- 带 -x 标志运行程序
- 代码块调试 使用 set -x 和 set +x
- 打印函数名和参数 echo $FUNCTION $@

#### 每行只做一件事
- 使用反斜杠做分隔符
- 符号在缩进的开始

#### 打印用法
- 把打印放在函数里


source: [保护性编程技巧](http://blog.jobbole.com/73257/)
